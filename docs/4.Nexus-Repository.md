# Nexus Repository
- Nexus Repository 란 ? maven에서 사용할 수 있는 오픈소스 repository 

## Vagrant + CentOS 7에서 Nexus Repository Server 설치

### 패키지 다운로드
- Windows command 창에 ``` vagrant up ``` 명령어 실행 후 ```vagrant ssh``` 명령어로 shell 실행
- 설치할 목록은 https://help.sonatype.com/repomanager3/download/download-archives---repository-manager-3 를 참고
- 설치 과정은 https://help.sonatype.com/repomanager3/installation 를 참고
- 설치 이전에 jdk 1.8 버전이 설치되어 있어야 합니다.

- 설치 및 디렉토리 변경
```
# nexus repository 패키지 설치
$ wget install https://download.sonatype.com/nexus/3/latest-unix.tar.gz   --no-check-certificate
# 설치 후 압축 해제
$ tar -xvf latest-unix.tar.gz
# 압축 해제한 파일을 /opt 디렉토리 밑에 옮김
$ sudo mv nexus-3.29.2-02 /opt/
```
- port 변경
```
$ cd /opt/nexus-3.29.2-02/etc  
$ vi nexus-default.properties
```
![image](https://user-images.githubusercontent.com/57924258/105713708-c9139380-5f5e-11eb-8856-0153864721d5.png)

- 외부에서 사용해야 할 경우
  - 방화벽 오픈
```
firewall-cmd --permanent --zone=public --add-port=8082/tcp
firewall-cmd --reload
firewall-cmd --permanent --list-all
```

### nexus 계정정보 등록 및 nexus 계정 생성
```
sudo groupadd nexus && adduser nexus -g nexus
패스워드 정보도
```
- ```vi /opt/nexus-3.29.2-02/bin/nexus``` 실행  
``` RUN_AS_USER ``` 항목에 nexus 계정 등록


### 서비스 등록해서 자동 실행 시키기
- 다음의 명령어를 입력하여 리눅스 서비스에 등록
```
$ sudo mv /opt/nexus-3.29.2-02 /opt/nexus
$ ln -s /opt/nexus/bin/nexus /etc/init.d/nexus
```

- java 경로를 nexus 설정에 등록
```
vi /opt/nexus/bin/nexus
# jdk가 설치되어 있는 경로를 입력합니다
INSTALL4J_JAVA_HOME_OVERRIDE=/usr/lib/jvm/java-1.8.0-openjdk
```
- 서비스 실행
``` 
# 서비스 실행
$ service nexus start 
# 서비스 조회
$ ps -ef | grep nexus | grep -v grep
```

- 접속
http://도메인:포트번호/ 화면을 통해 접속 

![image](https://user-images.githubusercontent.com/57924258/105860784-4dcee200-6031-11eb-9edc-1ab01176bc8b.png)

## Spring 등의 외부 Repository를 Nexus에 등록



## Maven의 settings.xml 파일 추가하여 설치한 Nexus 서버로 미러링
참고 
``` 
https://m.blog.naver.com/PostView.nhn?blogId=nsh83&logNo=220875182779&proxyReferer=https:%2F%2Fwww.google.com%2F
```

## Spring Boot Web 프로젝트 구성

## Spring Boot를 빌드하여 Nexus에서 dependency 다운로드하는지 확인

## maven deploy 커맨드로 내가 만든 Spring Boot의 빌드한 JAR 파일을 Nexus에 배포하기 (현아님 Space에 사용 가이드 작성하기 → 추후 Maven쪽으로 옮길 예정)

